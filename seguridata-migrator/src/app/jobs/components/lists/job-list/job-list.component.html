<ng-container *ngIf="jobList">
  <p-card header="Tareas">
    <p-table [value]="jobList" [totalRecords]="numTables" selectionMode="single" dataKey="id" [(selection)]="selectedJob"
      [loading]="tableLoading" (onRowSelect)="onRowSelect($event)" (onRowUnselect)="onRowUnselect($event)" [paginator]="true" [rows]="10"
      [tableStyle]="{ 'min-width': '50rem' }">
      <ng-template pTemplate="caption">
        <div class="flex align-items-center justify-content-between">
          Tareas
          <div class="flex">
            <p-button class="h-full" icon="pi pi-refresh" [text]="true" (onClick)="refreshList();" pTooltip="Refrescar lista" tooltipPosition="top"></p-button>
          </div>
        </div>
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th>&nbsp;</th>
          <th>Nombre Proyecto</th>
          <th>Num. Ejecuci√≥n</th>
          <th>Creado</th>
          <th>Iniciado</th>
          <th>Terminado</th>
          <th>Estatus</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-job>
        <tr>
          <td>
            <p-tableRadioButton [value]="job"></p-tableRadioButton>
          </td>
          <td>{{ job.projectName }}</td>
          <td>#{{ job.execNumber }}</td>
          <td>{{ job.createdAt | date }}</td>
          <td>{{ job.startedAt | date }}</td>
          <td>{{ job.finishedAt | date }}</td>
          <td><i [class]="'pi ' + resolveIcon(job.status)"></i>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</ng-container>
